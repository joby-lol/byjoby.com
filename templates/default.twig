<!DOCTYPE html>
<html>
    <head>
        <title>{% block title %}{{ page.meta.title }} :: {{ site.name }}{% endblock %}</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="#f6f2ef">
        <link rel="icon" sizes="192x192" href="/assets/img/logo-192.png">
        <link rel="icon" sizes="16x16" href="/assets/img/logo-16.png">
        <link rel="stylesheet" href="/assets/main.css">
        {#<style>
            /*
                This is CSS to make the home page header bigger/fancier
            */
            #main-header h1 a:before {
                height:8em;
                width:100%;
                margin-bottom:1em;
                display:block;
            }
        </style>#}
    </head>
    <body>
        <header id="main-header">
            <h1><a href="/" title="Joby Elliott">by&nbsp;Joby</a></h1>
        </header>
        <nav id="main-nav">
            {{ plaster.page('/').link|raw }}
            {{ plaster.page('/blog').link|raw }}
        </nav>

        {% block body %}
            <section class="main-page">
                {% if plaster.breadcrumb is not empty %}
                    <div class="breadcrumb">
                        {{ plaster.page('/').link|raw }} /
                        {% for page in plaster.breadcrumb %}
                            {{ page.link|raw }} /
                        {% endfor %}
                        {{ plaster.page.title }}
                    </div>
                {% endif %}
                {{ page.content|raw }}
            </section>
        {% endblock %}

        <footer id="main-footer">
            <div class="meta">
                <h1>Page metadata</h1>
                {% if page.meta.dateUpdated is defined %}first published: {{ page.meta.dateUpdated|date("m/d/Y") }}{% endif %}
                {% if page.meta.date is defined %}last updated: {{ page.meta.date|date("m/d/Y") }}{% endif %}
            </div>
            {# library credits #}
            {% if 'mathjax' in page.meta.libraries %}
                <a href="http://www.mathjax.org">
                    <img title="Powered by MathJax"
                         src="/images/library-badges/mathjax.gif"
                         border="0" alt="Powered by MathJax" />
                </a>
            {% endif %}
        </footer>

        {# standardized library includes #}
        {% if 'mathjax' in page.meta.libraries %}
            <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
            <script>
                MathJax.Hub.Config({
                    tex2jax: {
                        inlineMath: [['$', '$'], ['\\(', '\\)']],
                        processEscapes: true
                    }
                });
            </script>
        {% endif %}
    </body>
</html>
